# NodeJS Stock Market App

### Frameworks / Technologies Used
- Express.js
- Node.js
- Vue.js
- Socket.io (websockets)
- Yahoo Finance API
- ESLint (Airbnb)

## Websocket APIs

### Events


#### `get_stock_list`
Returns the list of stocks currently active.

```javascript
socket.on('get_stock_list', () => {
  socket.emit('stock_list', stocks)
})

/*
Output:
(event: 'stock_list')
['AAPL', 'GOOG', 'FB']
 */
```

#### `get_stock_data`
Returns historical data and profile for each active stock.

```javascript
socket.on('get_stock_data', () => {
  socket.emit('stock_data', data)
  socket.emit('stock_info', info)
})

/*
Output:
(event: 'stock_data')
{
  AAPL: [
    {
      date: 2017-06-11T07:07:20Z,
      close: 150.7
    },
    {
      date: 2017-06-12T07:07:20Z,
      close: 154.7
    },
    ...
  ],
  GOOG: ...
}

(event: 'stock_info')
[
  {
    summaryProfile: {
      "address1": "3500 Deer Creek Road",
      "city": "Palo Alto",
      "state": "CA",
      "zip": "94304",
      "country": "United States",
      "phone": "650-681-5000",
      "website": "http://www.tesla.com",
      "industry": "Auto Manufacturers - Major",
      "sector": "Consumer Goods",
      "longBusinessSummary": "Tesla, Inc. designs, develops, manufactures, and sells electric vehicles and energy storage products in the United States, China, Norway, and internationally. The company operates in two segments, Automotive, and Energy Generation and Storage. It primarily offers sedans and sport utility vehicles. The company also provides electric vehicle powertrain components and systems to other manufacturers; and services for electric vehicles through its 135 company-owned service centers and Service Plus locations, as well as through Tesla Ranger mobile technicians. It sells its products through a network of company-owned stores and galleries, as well as through Internet. In addition, the company offers energy storage products, such as rechargeable lithium-ion battery systems for use in homes, commercial facilities, and utility sites. Further, the company designs, manufactures, installs, maintains, leases, and sells solar energy systems to residential and commercial customers through a sales organization that include specialized internal call centers, outside sales force, a channel partner network, and a customer referral program, as well as through selected Tesla stores. Additionally, it sells renewable electricity generated by solar energy systems to customers. The company was formerly known as Tesla Motors, Inc. and changed its name to Tesla, Inc. in February 2017. Tesla, Inc. was founded in 2003 and is headquartered in Palo Alto, California.",
      "fullTimeEmployees": 17782,
      "companyOfficers": [],
      "maxAge": 86400
    },
    stock: 'TSLA'
  },
  ...
]
*/
```

#### `update_stock_list`
Update the current active stocks. Expects an array of stocks.

```javascript
socket.on('update_stock_list', (data) => {
  stocks = data
  io.emit('stock_list', data)
})

/*
Input:
(event: 'update_stock_list')
['AAPL', 'GOOG', 'FB', 'TWTR']

Output:
(event: 'stock_list')
['AAPL', 'GOOG', 'FB', 'TWTR']
 */
```

#### `check_stock_valid`
Checks whether the stock code provided is valid. Expects a string containing the stock code that needs to be checked.

```javascript
socket.on('check_stock_valid', (stockCode) => {
  io.emit('stock_valid_result', valid)
})

/*
Input:
(event: 'check_stock_valid')
'GOOG'

Output:
(event: 'stock_valid_result')
{
  stock: 'GOOG',
  valid: true
}

-- or --

{
  stock: 'ASDFG',
  valid: false
}
*/
```